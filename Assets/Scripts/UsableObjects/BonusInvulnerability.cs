using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BonusInvulnerability : CollectableObject {

    [SerializeField] private int bonusDuration = 3;

    void Start () {
        this.realtimeBeforeDestruction = this.bonusDuration;
        this.actionOnTriggerEnter = EnableBarrier;
        this.actionBeforeDestruction = DisableBarrier;
    }
	
	void Update () {
		
	}

    void EnableBarrier(GameObject entity)
    {
        PlayerMovement player = entity.GetComponent<PlayerMovement>();
        SpriteRenderer shield = entity.transform.Find("Shield").GetComponent<SpriteRenderer>();

        player.Invicible = true;
        shield.enabled = true;
    }

    void DisableBarrier(GameObject entity)
    {
        PlayerMovement player = entity.GetComponent<PlayerMovement>();
        SpriteRenderer shield = entity.transform.Find("Shield").GetComponent<SpriteRenderer>();

        player.Invicible = false;
        shield.enabled = false;
    }
}
